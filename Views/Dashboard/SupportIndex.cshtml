@{
    ViewData["Title"] = "Support Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string message = "";
    if (ViewData["Message"] != null)
    {
        message = ViewData["Message"].ToString();
    }

}
<div class="register-main-container">

    <div class="card-header">
        <div class="row">
            <div class="list-title" style="border-radius:10px 10px 0px 0px">
                <h4 style="font-size: 26px;" class="text-left"><i class="fas fa-headset"></i>@ViewData["Title"].ToString()</h4>
            </div>
        </div>


    </div>
    <div class="tab-pane active " id="User">
        <br>
        <div class="card-body ">
            <div class="row">

                <div class="col-lg-12">

                    <div class="row ">
                        <div id="register-table_wrapper" class="dataTables_wrapper no-footer" style="width:100%">
                            <table id="support-table" class="myTableMedium">
                                <thead>
                                <th>User Details</th>
                                <th>Message</th>
                                <th>Stataus</th>
                                <th>DateCreated</th>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>



            </div>
        </div>
    </div>
</div> 


@section Scripts{
                <script>
                  i_id=0;
                    $(document).ready(function () {

              suptable = $('#support-table').DataTable({
              "columnDefs": [
                  { "width": "150px", "targets": 0 },
                  { "width": "100px", "targets": 1 },
                  { "width": "100px", "targets": 2 },
                  { "width": "100px", "targets": 3 },
              ],
               "bPaginate": false,
               "bFilter": false,
               "stripeClasses": [],
               "ordering": false,
               "ordering": false,
               "info": false,
               "bInfo": false,
               "AutoWidth": false,
               "bLengthChange": false, 
               "paging": true,
               "aLengthMenu": [20],
               "searching": true,
               "oLanguage": { "sZeroRecords": "", "sEmptyTable": ""
               }});
               ShowSupportList();
          });
         function ShowSupportList() {
           $.blockUI(reloadLoading);
                    setTimeout(function () {
          $.ajax({
              url: '/Dashboard/GetSupportDetails',
              data: {

              },
              type: "GET",
              datatype: "json"
          }).done(function (data) {
               
              for (var i = 0; i < data.length; i++) {
                            var tbl = "<div>" + "<p>" + data[i].employeeID + "</p>" + "<p>" + data[i].fullname + "</p>";

                      $('#support-table').dataTable().fnAddData([
                  '<td>'+tbl+'</td>',
                  '<td>' + data[i].message + '</td>',
                  '<td>' + data[i].status + '</td>',
                  '<td>' + data[i].dateCreated + '</td>',
              ]);
              }
         $.unblockUI();
                        }).fail(function () {
                            alert("There was an Error When Loading Data...");
                        });

                    }, 100);

        }

        </script>
}